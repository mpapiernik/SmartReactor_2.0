{{#> 
	layouts/main 
	title="Kalendarz" 
	pagename="miscellaneous_fullcalendar" 
	category_1="Historia kontaktu"
}}

{{#*inline "head-block"}}
<link rel="stylesheet" media="screen, print" href="css/miscellaneous/fullcalendar/fullcalendar.bundle.css">
<link rel="stylesheet" media="screen, print" href="css/fa-solid.css">
<link rel="stylesheet" media="screen, print" href="css/fa-brands.css">
<link rel="stylesheet" media="screen, print"
	href="css/formplugins/bootstrap-daterangepicker/bootstrap-daterangepicker.css">


{{/inline}}

{{#*inline "content-block"}}

{{!-- Your main content goes here --}}
<div class="row">
	<div class="col-xl-12">
		<div id="panel-1" class="panel">
			<div class="panel-hdr">
				<h2>
					Historia kontaktu
				</h2>
				<span class="text-sm text-muted mr-auto">
					<span data-toggle="modal" data-target="#calendarModal">
						<a href="javascript:void(0);" class="btn btn-icon rounded-circlewaves-effect waves-themed"
							data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Dodaj zadanie">
							<i class="fas fa-calendar-plus fs-md"></i>
						</a>
					</span>
					<span data-toggle="modal" data-target="">
						<a href="javascript:void(0);" class="btn btn-icon rounded-circlewaves-effect waves-themed"
							data-toggle="tooltip" data-placement="bottom" title=""
							data-original-title="Wydrukuj dokumenty na dziś">
							<i class="fas fa-print fs-md"></i>
						</a>
					</span>
				</span>
				<div class="custom-control custom-switch d-inline-flex">
					<input type="checkbox" class="custom-control-input" id="customSwitch1" checked="">
					<label class="custom-control-label fw-500 text-dark" for="customSwitch1"><span
							class="hidden-sm-down">Ukryj zrealizowane zadania</span></label>
				</div>
				<div class="d-inline-block">
					<a href="javascript:void(0);" class="text-dark fw-500 dropdown-toggle ml-4"
						data-toggle="dropdown">Wybierz zdefiniowany filtr</a>
					<div class="dropdown-menu">
						<a class="dropdown-item px-3 py-2" href="#">
							<p class="m-0">Strict</p>
							<p class="m-0 opacity-50">No Adult Content</p>
						</a>
						<a class="dropdown-item active px-3 py-2" href="#">
							<p class="m-0">Moderate</p>
							<p class="m-0 opacity-50">No explicit video or images</p>
						</a>
						<a class="dropdown-item px-3 py-2" href="#">
							<p class="m-0">Off</p>
							<p class="m-0 opacity-50">Don't filter adult content</p>
						</a>
					</div>
				</div>
				<div class="d-inline-block">
					<a href="javascript:void(0);" class="text-dark fw-500 dropdown-toggle ml-4"
						data-toggle="dropdown">All
						Types</a>
					<div class="dropdown-menu">
						<a class="dropdown-item px-3 py-2" href="#">Zadania</a>
						<a class="dropdown-item px-3 py-2" href="#">Notatki</a>
						<a class="dropdown-item px-3 py-2" href="#">Wiadomości systemowe</a>
						<a class="dropdown-item px-3 py-2" href="#">Załączniki</a>
						<a class="dropdown-item px-3 py-2" href="#">E-maile </a>
						<div class="dropdown-divider"></div>
						<a class="dropdown-item px-3 py-2 active" href="#">Wszystkie</a>
					</div>
				</div>
				<div class="panel-toolbar ml-2">
					<select class="custom-select custom-select-sm">
						<option selected="">Odbiorca</option>
						<option value="1">Admin </option>
						<option value="2">Ewa Starosta</option>
						<option value="3">Anna Nowak</option>
					</select>
				</div>
				<div class="panel-toolbar ml-2">
					<div class="d-flex position-relative ml-auto" style="width: 20rem;">
						<i class="fal fa-search position-absolute pos-left fs-lg px-2 py-1 mt-1 fs-xs"></i>
						<input type="text" class="form-control form-control-sm pl-5" placeholder="Szukaj">
						<a data-toggle="modal" data-target="#advancedSearchModal" class="btn-primary btn-search-close">
							<i class="fal fa-filter color-white"></i>
						</a>
					</div>
				</div>

				<div class="panel-toolbar">
					<button class="btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0"
						data-action="panel-collapse" data-toggle="tooltip" data-offset="0,10"
						data-original-title="Collapse"><i class="fal fa-window-minimize"></i></button>

					<button class="btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0"
						data-action="panel-fullscreen" data-toggle="tooltip" data-offset="0,10"
						data-original-title="Fullscreen"><i class="fal fa-expand"></i></button>

					<button class="btn btn-panel bg-transparent fs-xl w-auto h-auto rounded-0" data-action="panel-close"
						data-toggle="tooltip" data-offset="0,10" data-original-title="Close"><i
							class="fal fa-times"></i></button>
				</div>
			</div>
			<div class="panel-container show">
				<div class="panel-content">
					<!-- Large modal -->

					<div id="calendar"></div>
					<!-- Modal Large -->
					<div class="modal fade" id="calendarModal" tabindex="-1" role="dialog" aria-hidden="true">
						<div class="modal-dialog modal-lg" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title">Edycja zadania</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true"><i class="fal fa-times"></i></span>
									</button>
								</div>
								<div class="modal-body">
									<div class="form-group">
										<label class="form-label" for="example-select">Definicja zadania</label>
										<select class="form-control" id="example-select">
											<option>1</option>
											<option>2</option>
											<option>3</option>
											<option>4</option>
											<option>5</option>
										</select>
									</div>
									<div class="form-group">
										<label class="form-label" for="datepicker-modal-3">Data i czas zadania</label>
										<div class="input-group">
											<input type="text" id="datepicker-modal-3" class="form-control"
												placeholder="End date" aria-label="date"
												aria-describedby="datepicker-modal-3">
											<div class="input-group-append">
												<span class="input-group-text fs-xl"><i
														class="fal fa-calendar-alt"></i></span>
											</div>
										</div>
										<span class="help-block">Data planowania i czas na realizacje zadania</span>
									</div>
									<div class="form-group">
										<label class="form-label" for="example-textarea">Zaplanowane czynności</label>
										<textarea class="form-control" id="example-textarea" rows="3"></textarea>
									</div>
									<div class="form-group">
										<label class="form-label" for="example-textarea">Dodatkowy opis</label>
										<textarea class="form-control" id="example-textarea" rows="3"></textarea>
									</div>
									<div class="form-group">
										<label class="form-label">Wykonawca</label>
										<div class="row">
											<div class="col">
												<div class="frame-wrap">
													<div class="demo">
														<div class="custom-control custom-radio">
															<input type="radio" class="custom-control-input"
																id="defaultUncheckedRadio" name="defaultExampleRadios">
															<label class="custom-control-label"
																for="defaultUncheckedRadio">Wybierz
																pracownika ręcznie</label>
														</div>
														<div class="custom-control custom-radio">
															<input type="radio" class="custom-control-input"
																id="defaultCheckedRadio" name="defaultExampleRadios"
																checked="">
															<label class="custom-control-label"
																for="defaultCheckedRadio">Wybierz
																pracownika na podstawie zasad przydzielania
																zadań</label>
														</div>
													</div>
												</div>
											</div>
											<div class="col">
												<div class="form-group">
													<label class="form-label" for="example-select">Pracownik</label>
													<select class="form-control" id="example-select">
														<option>Pracownik 1</option>
														<option>Pracownik 2</option>
														<option>Pracownik 3</option>
														<option>Pracownik 4</option>
														<option>Pracownik 5</option>
													</select>
												</div>
											</div>
										</div>
									</div>
									<div class="form-group">
										<label class="form-label" for="example-static">Zlecający</label>
										<input type="text" readonly="" class="form-control-plaintext"
											id="example-static" value="email@example.com">
									</div>
									<div class="form-group">
										<label class="form-label" for="example-static">Twórca</label>
										<input type="text" readonly="" class="form-control-plaintext"
											id="example-static" value="email@example.com">
									</div>

								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Anuluj</button>
									<button type="button" class="btn btn-success">Zapisz</button>
								</div>
							</div>
						</div>
					</div>
					<!-- Modal Large end -->
				</div>
			</div>
		</div>
	</div>
</div>




{{/inline}}

{{#*inline "scripts-block"}}

<!-- moment.js (dependency for the demo only); you do not have to use it unless you need it 
	DOC: Parse, validate, manipulate, and display dates and times in JavaScript. (https://momentjs.com/) -->
<script src="js/dependency/moment/moment.js"></script>
<script src="js/formplugins/bootstrap-daterangepicker/bootstrap-daterangepicker.js"></script>
<script type="text/javascript">
	// push settings with "false" save to local
	initApp.pushSettings("margin-left", false);

	$(document).ready(function () {

		$('#datepicker-modal-3').daterangepicker({
			timePicker: true,
			startDate: moment().startOf('hour'),
			endDate: moment().startOf('hour').add(32, 'hour'),
			locale: {
				format: 'M/DD hh:mm A'
			}
		});
	});
</script>
<!-- fullcalendar bundle: 
	 DOC: you may remove the extensions if you do not plan on using them. Learn more about these extensions at https://fullcalendar.io
				+ core/main.js (core)
				+ daygrid/main.js (extension)
				+ list/main.js (extension)
				+ timegrid/main.js (extension)
				+ interaction/main.js (extension)
				+ src/../bootstrap-main-cust.js (core) -->
<script src="js/miscellaneous/fullcalendar/fullcalendar.bundle.js"></script>
<!-- BS JavaScript -->



<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


<script>
	var todayDate = moment().startOf('day');
	var YM = todayDate.format('YYYY-MM');
	var YESTERDAY = todayDate.clone().subtract(1, 'day').format('YYYY-MM-DD');
	var TODAY = todayDate.format('YYYY-MM-DD');
	var TOMORROW = todayDate.clone().add(1, 'day').format('YYYY-MM-DD');

	document.addEventListener('DOMContentLoaded', function () {

		var calendarEl = document.getElementById('calendar');

		var calendar = new FullCalendar.Calendar(calendarEl, {
			plugins: ['dayGrid', 'list', 'timeGrid', 'interaction', 'bootstrap', 'core'],
			locale: 'pl',
			themeSystem: 'bootstrap',
			timeZone: 'UTC',
			dateAlignment: "month", //week, month
			buttonText: {
				today: 'Today',
				month: 'Month',
				week: 'Week',
				day: 'Day',
				list: 'List'
			},
			eventTimeFormat: {
				hour: 'numeric',
				minute: '2-digit',
				meridiem: 'short'
			},
			navLinks: true,
			header: {
				left: 'prev,next today addEventButton',
				center: 'title',
				right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
			},
			footer: {
				left: '',
				center: '',
				right: ''
			},
			customButtons: {
				addEventButton: {
					text: '+',
					click: function () {
						var dateStr = prompt('Enter a date in YYYY-MM-DD format');
						var date = new Date(dateStr + 'T00:00:00'); // will be in local time

						if (!isNaN(date.valueOf())) { // valid?
							calendar.addEvent({
								title: 'dynamic event',
								start: date,
								allDay: true
							});
							alert('Great. Now, update your database...');
						} else {
							alert('Invalid date.');
						}
					}
				}
			},
			//contentHeight: 800,
			editable: true,
			eventLimit: false, // allow "more" link when too many events
			views: {
				sevenDays: {
					type: 'agenda',
					buttonText: '7 Days',
					visibleRange: function (currentDate) {
						return {
							start: currentDate.clone().subtract(2, 'days'),
							end: currentDate.clone().add(5, 'days'),
						};
					},
					duration: { days: 7 },
					dateIncrement: { days: 1 },
				},
			},
			events: [
				{
					title: 'All Day Event',
					start: YM + '-01',
					description: 'This is a test description', //this is currently bugged: https://github.com/fullcalendar/fullcalendar/issues/1795
					className: "border-warning bg-warning text-dark"
				},
				{
					title: 'Reporting',
					start: YM + '-14T13:30:00',
					end: YM + '-14',
					className: "bg-white border-primary text-primary"
				},
				{
					title: 'Birthday Party',
					start: YM + '-02T13:30:00',
					end: YM + '-T13:30:00',
					className: "color-success-300 text-white"
				},
				{
					title: 'Coffee',
					start: YM + '-02T09:00:00',
					end: YM + '-02T09:30:00',
					className: "bg-info text-white"
				},
				{
					title: 'Meeting with Paul',
					start: YM + '-02T13:30:00',
					end: YM + '-02T15:30:00',
					className: "bg-danger text-white"
				},
				{
					title: 'Company Trip',
					start: YM + '-05',
					end: YM + '-06',
					className: "bg-primary border-primary text-white"
				},
				{
					title: 'NextGen Expo 2019 - Product Release',
					start: YM + '-03',
					end: YM + '-05',
					className: "bg-info border-info text-white"
				},
				{
					title: 'Dinner',
					start: YM + '-02',
					end: YM + '-03',
					className: "bg-danger border-danger text-white"
				},
				{
					id: 999,
					title: 'Repeating Event',
					start: YM + '-05T16:00:00',
					className: "bg-danger border-danger text-white"
				},
				{
					id: 1000,
					title: 'Repeating Event',
					start: YM + '-7T16:00:00'
				},
				{
					title: 'Conference',
					start: YESTERDAY,
					end: TOMORROW,
					className: "bg-success border-success text-white"
				},
				{
					title: 'Meeting',
					start: TODAY + 'T10:30:00',
					end: TODAY + 'T12:30:00',
					className: "bg-primary text-white border-primary"
				},
				{
					title: 'Lunch',
					start: TODAY + 'T12:00:00',
					className: "bg-info border-info"
				},
				{
					title: 'Meeting',
					start: TODAY + 'T14:30:00',
					className: "bg-warning text-dark border-warning"
				},
				{
					title: 'Happy Hour',
					start: TODAY + 'T17:30:00',
					className: "bg-success border-success text-white"
				},
				{
					title: 'Dinner',
					start: TODAY + 'T20:00:00',
					className: "bg-danger border-danger text-white"
				},
				
				{
					title: 'Gotbootstrap Meeting',
					url: 'http://gotbootstrap.com/',
					start: YM + '-28',
					className: "bg-info border-info text-white"
				}
			],
			/*eventClick:  function(info) {
				$('#calendarModal .modal-title .js-event-title').text(info.event.title);
				$('#calendarModal .js-event-description').text(info.event.description);
				$('#calendarModal .js-event-url').attr('href',info.event.url);
				$('#calendarModal').modal();
				console.log(info.event.className);
				console.log(info.event.title);
				console.log(info.event.description);
				console.log(info.event.url);
			},*/
			/*viewRender: function(view) {
				localStorage.setItem('calendarDefaultView',view.name);
				$('.fc-toolbar .btn-primary').removeClass('btn-primary').addClass('btn-outline-secondary');
			},*/

			eventClick: function (info) {
				alert('Event: ' + info.event.title);
				// change the border color just for fun
				info.el.style.borderColor = 'red';
			}

		});

		calendar.render();
	});
</script>
{{/inline}}

{{/layouts/main}}